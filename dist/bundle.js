(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelectorAll(".tabheader__item"),t=document.querySelectorAll(".tabcontent"),n=document.querySelector(".tabheader__items");function o(){t.forEach((e=>{e.classList.remove("show","fade"),e.classList.add("hide")})),e.forEach((e=>{e.classList.remove("tabheader__item_active")}))}function c(n=0){t[n].classList.remove("hide"),t[n].classList.add("show","fade"),e[n].classList.add("tabheader__item_active")}o(),c(),n.addEventListener("click",(t=>{t.target?.classList.contains("tabheader__item")&&e.forEach(((e,n)=>{t.target==e&&(o(),c(n))}))}))}(),function(e){function t(e){return e>=0&&e<10?`0${e}`:e}document.querySelector("#promotion__deadline").textContent=" "+new Date(e).toLocaleDateString(),function(e,n){const o=document.querySelector(".timer"),c=o.querySelector("#days"),s=o.querySelector("#hours"),a=o.querySelector("#minutes"),i=o.querySelector("#seconds"),r=setInterval(l,1e3);function l(){const e=function(e){const t=Date.parse(e)/1e3,n=new Date,o=t-Date.parse(n)/1e3+60*n.getTimezoneOffset();if(o<=0)return{total:0,days:0,hours:0,minutes:0,seconds:0};const c=Math.floor(o%60),s=Math.floor(o/60%60),a=Math.floor(o/60/60%24);return{total:o,days:Math.floor(o/60/60/24),hours:a,minutes:s,seconds:c}}(n);c.textContent=t(e.days),s.textContent=t(e.hours),a.textContent=t(e.minutes),i.textContent=t(e.seconds),e.total<=0&&clearInterval(r)}l()}(0,e)}("2023-09-14"),function(e){class t{constructor(e,t,n,o,c,s){this.src=e,this.alt=t,this.title=n,this.descr=o,this.price=101*c,this.parent=document.querySelector(s)}render(){const e=document.createElement("div");e.innerHTML=`\n          <div class="menu__item">\n                        <img src=${this.src} alt=${this.alt}>\n                        <h3 class="menu__item-subtitle">${this.title}</h3>\n                        <div class="menu__item-descr">${this.descr}</div>\n                        <div class="menu__item-divider"></div>\n                        <div class="menu__item-price">\n                            <div class="menu__item-cost">Цена:</div>\n                            <div class="menu__item-total"><span>${this.price}</span> руб/день</div>\n                        </div>\n          `,this.parent.append(e)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`ERROR GET fetch ${e} status ${t.status}`);return await t.json()})("http://localhost:3000/menu").then((e=>{e.forEach((({img:e,altimg:n,title:o,descr:c,price:s})=>{new t(e,n,o,c,s,".menu .container").render()}))}))}(),function(){const e=document.querySelectorAll(".offer__slide"),t=document.querySelector(".offer__slider-prev"),n=document.querySelector(".offer__slider-next"),o=document.querySelector("#total"),c=document.querySelector("#current");let s=1;function a(t){t<1&&(s=e.length),t>e.length&&(s=1),e.forEach((e=>e.style.display="none")),e[s-1].style.display="block",c.textContent=s<10?`0${s}`:`${s}`}e.length<10?o.textContent=`0${e.length}`:o.textContent=`${e.length}`,a(s),t.addEventListener("click",(()=>a(--s))),n.addEventListener("click",(()=>a(++s)))}(),function(){const e=document.querySelector(".calculating__result span");let t,n,o,c=document.querySelector("#gender .calculating__choose-item_active").id,s=+document.querySelector(".calculating__choose_big .calculating__choose-item_active").getAttribute("data-ratio");function a(){e.textContent="female"==c?Math.floor(s*(447+9*n+3*t-4*o)):Math.floor(s*(88+13*n+5*t-6*o)),"NaN"==e.textContent&&(e.textContent="____")}function i(e){const t=document.querySelectorAll(e);t.forEach((e=>{e.addEventListener("click",(e=>{e.target.getAttribute("data-ratio")?s=+e.target.getAttribute("data-ratio"):c=e.target.getAttribute("id"),t.forEach((e=>{e.classList.remove("calculating__choose-item_active")})),e.target.classList.add("calculating__choose-item_active"),a()}))}))}function r(e){const c=document.querySelector(e);c.addEventListener("input",(()=>{switch(c.value.match(/\D/)||c.value<1?c.style.border="2px solid red":c.style.border="",c.getAttribute("id")){case"height":t=+c.value;break;case"weight":n=+c.value;break;case"age":o=+c.value}a()}))}a(),i(".calculating__choose_big div"),i("#gender div"),r("#height"),r("#weight"),r("#age")}(),function(){const e=document.querySelector(".modal");function t(){e.classList.remove("hide"),e.classList.add("show"),document.body.style.overflow="hidden"}function n(){e.classList.remove("show"),e.classList.add("hide"),document.body.style.overflow=""}function o(e){const o=document.querySelector(".modal__dialog");o.classList.add("hide"),t();const c=document.createElement("div");c.classList.add("modal__dialog"),c.innerHTML=`\n  <div class='modal__content'>\n    <div class="modal__close" data-close>&times;</div>\n    <div class="modal__title">${e}</div>\n  </div>\n  `,document.querySelector(".modal").append(c),setTimeout((()=>{c.remove(),o.classList.add("show"),o.classList.remove("hide"),n()}),4e3)}document.querySelectorAll("[data-modal]").forEach((e=>{e.addEventListener("click",(()=>{t()}))})),e.addEventListener("click",(t=>{t.target!==e&&""!==t.target.getAttribute("data-close")||n()})),document.addEventListener("keydown",(t=>{"Escape"==t.code&&e.classList.contains("show")&&n()}));document.querySelectorAll("form").forEach((e=>{var t;(t=e).addEventListener("submit",(e=>{e.preventDefault();const n=new FormData(t);(async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t});if(!n.ok)throw new Error(`ERROR POST fetch ${e} status ${n.status}`);return await n.json()})("http://localhost:3000/requests",JSON.stringify(Object.fromEntries(n.entries()))).then((e=>{console.log(e),o("Спасибо! Данные отправлены успешно.")})).catch((()=>{o("Что-то пошло не так (")})).finally((()=>{t.reset()}))}))}))}()}))})();
//# sourceMappingURL=bundle.js.map